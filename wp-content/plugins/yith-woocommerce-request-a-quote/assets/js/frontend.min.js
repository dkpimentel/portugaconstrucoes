jQuery(document).ready(function(n){"use strict";var a=n("body"),e=(n(".add-request-quote-button"),n(".yith-ywraq-item-remove"));if(a.hasClass("single-product")){var t=n('[name|="product_id"]'),i=t.val(),r=n(".add-to-quote-"+i).find("a"),d=r.parents(".yith-ywraq-add-to-quote"),s=n('[name|="variation_id"]');s.on("change",function(){""==n(this).val()?r.parent().hide().removeClass("show"):n.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:"action=yith_ywraq_action&ywraq_action=variation_exist&variation_id="+s.val()+"&product_id="+t.val()+"wp_nonce="+ywraq_frontend.yith_ywraq_action_nonce,success:function(a){!0===a.result?(r.parent().hide().removeClass("show"),0==n(".yith_ywraq_add_item_browse-list-"+t.val()).length&&(d.append('<div class="yith_ywraq_add_item_response-'+t.val()+' yith_ywraq_add_item_response_message">'+a.message+"</div>"),d.append('<div class="yith_ywraq_add_item_browse-list-'+t.val()+' yith_ywraq_add_item_browse_message"><a href="'+a.rqa_url+'">'+a.label_browse+"</a></div>"))):(n(".yith_ywraq_add_item_response-"+t.val()).remove(),n(".yith_ywraq_add_item_browse-list-"+t.val()).remove(),r.parent().show().addClass("show"))}})})}n(document).on("click",".add-request-quote-button",function(a){a.preventDefault();var t=n(this),i=t.parents(".yith-ywraq-add-to-quote"),e="ac";if(0<t.parents("ul.products").length)var r=t.parents("li.product").find('input[name="add-to-cart"]'),d=t.parents("li.product").find('input[name="product_id"]');else r=t.parents(".product").find('input[name="add-to-cart"]'),d=t.parents(".product").find('input[name="product_id"]');0<r.length&&0<d.length?e=n(".cart").serialize():0<n(".cart").length&&(e=n(".cart").serialize()),0<(e+="&action=yith_ywraq_action&ywraq_action=add_item&product_id="+t.data("product_id")+"&wp_nonce="+ywraq_frontend.yith_ywraq_action_nonce).indexOf("add-to-cart")&&(e=e.replace("add-to-cart","yith-add-to-cart")),n.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:e,beforeSend:function(){t.siblings(".ajax-loading").css("visibility","visible")},complete:function(){t.siblings(".ajax-loading").css("visibility","hidden")},success:function(a){if("true"==a.result||"exists"==a.result){t.parent().hide().removeClass("show").addClass("addedd");var e=void 0===d.val()?"":"-"+d.val();i.append('<div class="yith_ywraq_add_item_response'+e+' yith_ywraq_add_item_response_message">'+a.message+"</div>"),i.append('<div class="yith_ywraq_add_item_browse-list'+e+' yith_ywraq_add_item_browse_message"><a href="'+a.rqa_url+'">'+a.label_browse+"</a></div>")}else"false"==a.result&&i.append('<div class="yith_ywraq_add_item_response-'+d.val()+'">'+a.message+"</div>")}})}),e.on("click",function(a){a.preventDefault();var e,t=n(this),i=t.data("remove-item");n("#yith-ywraq-form");e="action=yith_ywraq_action&ywraq_action=remove_item&key="+t.data("remove-item")+"&wp_nonce="+ywraq_frontend.yith_ywraq_action_nonce+"&product_id="+t.data("product_id"),n.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:e,beforeSend:function(){t.siblings(".ajax-loading").css("visibility","visible")},complete:function(){t.siblings(".ajax-loading").css("visibility","hidden")},success:function(a){1===a&&(n("[data-remove-item='"+i+"']").parents(".cart_item").remove(),0===n(".cart_item").length&&(n("#yith-ywraq-form, #yith-ywraq-mail-form, .yith-ywraq-mail-form-wrapper").remove(),n("#yith-ywraq-message").text(ywraq_frontend.no_product_in_list)))}})})});